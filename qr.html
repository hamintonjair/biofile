<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/icon.ico">
    <title>QR - Biofile</title>
    <style>
        body { margin: 0; font-family: Arial, sans-serif; background: #0b6fb3; color: #fff; }
        .wrap { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 24px; }
        .card { background: #fff; color: #222; border-radius: 12px; padding: 24px; width: 100%; max-width: 420px; text-align: center; box-shadow: 0 8px 24px rgba(0,0,0,.15); }
        .card h1 { margin: 0 0 8px 0; font-size: 22px; color: #0b6fb3; }
        .card p { margin: 0 0 16px 0; font-size: 14px; color: #456; }
        .qr { display: block; margin: 0 auto 12px auto; width: 280px; height: 280px; }
        .btn { display: inline-block; background: #21a146; color: #fff; text-decoration: none; padding: 10px 14px; border-radius: 8px; font-weight: 700; }
        .btn:hover { background: #28bb52; }
        .url { word-break: break-all; font-size: 12px; color: #666; margin-top: 8px; }
    </style>
    <!-- QR generado por QuickChart -->
</head>
<body>
    <div class="wrap">
        <div class="card">
            <h1>QR de Biofile</h1>
            <p>Escanéalo para abrir el sitio con el código</p>
            <img id="qrImg" class="qr" src="" alt="QR Biofile">
            <a id="openBtn" class="btn" href="#" target="_blank" rel="noopener">Abrir biofile.onrender.com</a>
            <div id="targetUrl" class="url"></div>
        </div>
    </div>
    <script>
        (function () {
            var params = new URLSearchParams(window.location.search);
            var code = (params.get('code') || 'X761F1J9708').trim();
            var base = (window.location.origin || 'https://biofile.onrender.com').replace(/\/$/, '');
            var target = base + '/' + encodeURIComponent(code);
            var qr = document.getElementById('qrImg');
            var openBtn = document.getElementById('openBtn');
            var urlEl = document.getElementById('targetUrl');
            if (qr) qr.src = 'https://quickchart.io/qr?text=' + encodeURIComponent(target) + '&size=280&margin=1';
            if (openBtn) openBtn.href = target;
            if (urlEl) urlEl.textContent = target;
        })();
    </script>
</body>
</html>

